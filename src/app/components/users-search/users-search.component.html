<div class="container">
  <div class="row text-center">
    <div class="col-xs-12 col-sm-12 col-md-12">
      <h1>Search for developers by city and language.</h1>
      <h2>Meet developers. Create a team.</h2>
      <a href="https://ng5-experience.firebaseapp.com" target="_blank">Built with Angular 6</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-md-offset-3">
      <div class="form-inline">
        <input placeholder="City ..." type="text" class="form-control input-lg input" #city (keyup.enter)="search(city.value, language.value); city.value = ''; language.value = '';" >
        <input placeholder="Language i.e. Javascript" type="text" class="form-control input-lg input" #language (keyup.enter)="search(city.value, language.value); city.value = ''; language.value = '';">
        <button class="btn btn-primary btn-lg" (click)="search(city.value, language.value); city.value = ''; language.value = '';">Search</button>
      </div>
    </div>
  </div>
  <div class="row">
    <p class="text-center" style="padding: 1em; color: red;" *ngIf="errorText">{{ errorText }}</p>
    <div [ngClass]="{'col-md-9': selected, 'col-md-12': !selected}">
        <div class="user col-md-2 text-center" *ngFor="let user of results" (click)="getDetails(user.login)">
          <div class="img_container">
            <img src="{{user.avatar_url}}" class="img-circle" width="100" height="100">
          </div>
          <div class="details_container">
              <a href="{{user.html_url}}" target="_blank" class="login_name">
                {{ user.login }}
              </a>
            </div>
        </div>
    </div>
    <div *ngIf="results.length && selected" class="col-md-3">
      <div class="box-text-center">
        <img src="{{selectedUser.avatar_url}}" class="img-responsive img-circle">
        <div class="details">
          <div *ngIf="selectedUser.name">
            <a href="{{selectedUser.html_url}}" target="_blank">
              <h3>{{ selectedUser.name }}</h3>
            </a>
          </div>
          <hr>
          <div *ngIf="selectedUser.email">
              Email: {{ selectedUser.email }}
          </div>
          <hr>
          <div *ngIf="selectedUser.city">
              City: {{ selectedUser.city }}
          </div>
          <hr>
          <div *ngIf="selectedUser.bio">
              Bio: {{ selectedUser.bio }}
          </div>
          <hr>
          <div *ngIf="selectedUser.updated_at">
              Lat Seen: {{ selectedUser.updated_at | date }}
          </div>
          <hr>
          <div *ngIf="selectedUser.repos">
              Repos: {{ selectedUser.repos }}
          </div>
          <hr>
          <div *ngIf="selectedUser.gists">
              Gists: {{ selectedUser.gists }}
          </div>
          <hr>
          <div *ngIf="selectedUser.followers">
              Followers: {{ selectedUser.followers }}
          </div>
          <hr>
          <div *ngIf="selectedUser.created_at">
              Joined Github: {{ selectedUser.created_at | date }}
          </div>
          <hr>
          <button class="btn btn-sm btn-warning" (click)="selected = !selected">Back</button>
        </div>
      </div>


    </div>
  </div>
</div>
